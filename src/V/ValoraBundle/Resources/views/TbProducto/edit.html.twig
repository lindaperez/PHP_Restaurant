{% extends '::layout.html.twig' %}

{% block content %}

    {% for flashMessage in app.session.flashbag.get('flash_info') %}
        <div class="isa_info">
            {{ flashMessage }}
        </div>
        <br><br>
    {% endfor %}


    {% for flashMessage in app.session.flashbag.get('flash_warning') %}
        <div class="isa_warning">
            {{ flashMessage }}
        </div>
        <br><br>
    {% endfor %}



    {% for flashMessage in app.session.flashbag.get('flash_error') %}
        <div class="isa_error">
            {{ flashMessage }}
        </div>
        <br><br>
    {% endfor %}

    <h1>Registro de Productos</h1>

    <div class="container" >

        <section class="register">    
            <form action="{{ path('Producto_update',{ 'id': entity.id })  }}" method="post" id="login">
                {{ form_start(edit_form) }}
                {{ form_errors(edit_form) }}
                <table>
                    <td width='10'></td>
                    <td>
                        <div style="display: none;">
                            {{ form_row(edit_form.submit, { 'label': 'Editar' }) }}
                        </div>
                        <div class="error">
                            {{ form_errors(edit_form.vtitulo) }}</div>       
                        <table>  <td width="100">
                                {{ form_label(edit_form.vtitulo, 'Titulo:', {'required': 'true'}) }}</td>
                            <td>{{ form_widget(edit_form.vtitulo) }}</td>
                        </table>
                        <div class="error">
                            {{ form_errors(edit_form.vmonto) }}</div>       
                        <table>  <td width="100">
                                {{ form_label(edit_form.vmonto, 'Monto por Unidad:', {'required': 'true'}) }}</td>
                            <td>{{ form_widget(edit_form.vmonto) }}</td>
                        </table>
                    </td>
                    <td width='50'></td>
                    <td>
                        <div class="error">
                            {{ form_errors(edit_form.vcantidad) }}</div>       
                        <table>  <td width="100">
                                {{ form_label(edit_form.vcantidad, 'Cantidad (Existencia):', {'required': 'true'}) }}</td>
                            <td>{{ form_widget(edit_form.vcantidad) }}</td>
                        </table>
                    
                    <div class="error">
                            {{ form_errors(edit_form.vprecio) }}</div>       
                        <table>  <td width="100">
                                {{ form_label(edit_form.vprecio, 'Precio por Unidad:', {'required': 'true'}) }}</td>
                            <td>{{ form_widget(edit_form.vprecio) }}</td>
                        </table>    
                    </td>

                </table>
                <p class="submit">   
                    <input type="submit" name="commit" value="Editar">
                </p>    
                {{ form_end(edit_form) }}     

            </form>

        </section>
    </div>
    {% if (app.session.get('usuario_rol')=="Administrador") or (app.session.get('usuario_rol')=="Caja") %}
        <ul class="record_actions">
            <li>
                <a href="{{ path('Producto') }}">
                    <br><br>
                    Lista de Productos
                </a>
            </li>
        </ul>
    {%endif%}
{% endblock %}



